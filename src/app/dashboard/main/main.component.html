<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'Dashboard'" [items]="['Inicio']" [active_item]="'Dashboard'"></app-breadcrumb>
    </div>

    <div class="container-fluid">
      <!-- Tarjetas resumen -->
      <div class="row">
        <div class="col-lg-4 col-sm-6">
          <div class="info-box7 l-bg-card2 order-info-box7">
            <div class="info-box7-block">
              <h4 class="m-b-20">Ventas</h4>
              <h2 class="text-end">
                <i class="fas fa-cart-plus float-start"></i><span>{{datos?.ventas}}</span>
              </h2>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-sm-6">
          <div class="info-box7 l-bg-orange order-info-box7">
            <div class="info-box7-block">
              <h4 class="m-b-20">Clientes</h4>
              <h2 class="text-end">
                <i class="fas fa-users float-start"></i><span>{{datos?.clientes}}</span>
              </h2>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-sm-6">
          <div class="info-box7 l-bg-card1 order-info-box7">
            <div class="info-box7-block">
              <h4 class="m-b-20">Productos</h4>
              <h2 class="text-end">
                <i class="fas fa-box float-start"></i><span>{{datos?.productos}}</span>
              </h2>
            </div>
          </div>
        </div>
      </div>

      <!-- Gráficos -->
      <div class="row dashboard-grid mt-4">

        <div class="col-lg-6 col-md-12">
          <div class="body">
            <h4>Top Productos más vendidos</h4>
            <div *ngIf="lineChartData.labels?.length">
              <canvas baseChart
                      [data]="lineChartData"
                      [options]="lineChartOptions"
                      chartType="line">
              </canvas>
            </div>
          </div>
        </div>

        <div class="col-lg-6 col-md-12">
          <div class="body">
            <h4>Productos agotados</h4>
            <div *ngIf="lineChartDataAgotados.labels?.length">
              <canvas baseChart
                      [data]="lineChartDataAgotados"
                      [options]="lineChartOptions"
                      chartType="line">
              </canvas>
            </div>
          </div>
        </div>

        <div class="col-lg-6 col-md-12">
          <div class="body">
            <h4>Ventas por vendedor</h4>
            <div *ngIf="lineChartDataVentas.labels?.length">
              <canvas baseChart
                      [data]="lineChartDataVentas"
                      [options]="lineChartOptions"
                      chartType="line">
              </canvas>
            </div>
          </div>
        </div>

        <div class="col-lg-6 col-md-12">
          <div class="body">
            <h4>Venta de productos por categoría</h4>
            <div *ngIf="lineChartDataCategorias.labels?.length">
              <canvas baseChart
                      [data]="lineChartDataCategorias"
                      [options]="lineChartOptions"
                      chartType="line">
              </canvas>
            </div>
          </div>
        </div>

        <!-- 📊 Tableau: Predicción de ventas desde Tableau Public -->
        <div class="col-lg-12 col-md-12">
          <div class="card">
            <div class="body">
              <h4 class="text-center">Predicción de ventas mensuales (Tableau)</h4>
              <app-grafico-tableau></app-grafico-tableau>
            </div>
          </div>
        </div>

        <!-- 📈 Predicción de ventas internas con Chart.js -->
        <div class="col-lg-12 col-md-12">
          <div class="card">
            <div class="body">
              <h4 class="text-center">Predicción de ventas mensuales</h4>
              <div *ngIf="lineChartDataPrediccion?.labels?.length">
                <canvas baseChart
                        [data]="lineChartDataPrediccion"
                        [options]="lineChartOptionsPrediccion"
                        chartType="line">
                </canvas>
              </div>
            </div>
          </div>
        </div>

      </div> <!-- Fin row -->
    </div>
  </div>
</section>
